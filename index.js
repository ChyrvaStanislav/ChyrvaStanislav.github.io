"use strict";const studentData=[{id:1,name:"Alice",age:22,grade:"A",city:"New York"},{id:2,name:"Bob",age:20,grade:"B",city:"Los Angeles"},{id:3,name:"Charlie",age:21,grade:"C",city:"Chicago"},{id:4,name:"David",age:23,grade:"B",city:"Houston"},{id:5,name:"Eva",age:24,grade:"A",city:"Philadelphia"},{id:6,name:"Frank",age:19,grade:"C",city:"Phoenix"},{id:7,name:"Grace",age:20,grade:"A",city:"San Antonio"},{id:8,name:"Henry",age:22,grade:"B",city:"San Diego"},{id:9,name:"Ivy",age:21,grade:"C",city:"Dallas"},{id:10,name:"Jack",age:23,grade:"A",city:"San Jose"},{id:11,name:"Kate",age:24,grade:"B",city:"Austin"},{id:12,name:"Leo",age:19,grade:"C",city:"Jacksonville"},{id:13,name:"Mia",age:20,grade:"A",city:"Fort Worth"},{id:14,name:"Nina",age:22,grade:"B",city:"Columbus"},{id:15,name:"Olivia",age:21,grade:"C",city:"San Francisco"},{id:16,name:"Peter",age:23,grade:"A",city:"Charlotte"},{id:17,name:"Queen",age:24,grade:"B",city:"Indianapolis"},{id:18,name:"Rose",age:19,grade:"C",city:"Seattle"},{id:19,name:"Sam",age:20,grade:"A",city:"Denver"},{id:20,name:"Tom",age:22,grade:"B",city:"Washington"},{id:21,name:"Vivian",age:21,grade:"C",city:"Boston"},{id:22,name:"William",age:23,grade:"A",city:"El Paso"},{id:23,name:"Xavier",age:24,grade:"B",city:"Detroit"},{id:24,name:"Yvonne",age:19,grade:"C",city:"Nashville"},{id:25,name:"Zoe",age:20,grade:"A",city:"Portland"},],studentTemplate=document.querySelector("#student-card-template").content,preloaderTemplate=document.querySelector("#preloader-template").content,modalTemplate=document.querySelector("#student-modal-template").content,studentsContainer=document.querySelector(".student-container"),sortSelect=document.querySelector("#sort-select"),filterSelect=document.querySelector("#filter-select"),disableScroll=()=>{let e=window.scrollY;document.body.setAttribute("data-scroll-position",e),document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${e}px`},enableScroll=()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",window.scrollTo(0,document.body.dataset.scrollPosition)},renderModal=e=>{let a=modalTemplate.cloneNode(!0);a.querySelector(".student-modal__name").innerText=e.name,a.querySelector(".student-modal__city span").innerText=e.city,a.querySelector(".student-modal__close-button").addEventListener("click",e=>{e.target.closest(".student-modal").remove(),enableScroll()}),a.querySelector(".student-modal").addEventListener("click",e=>{e.target.remove(),enableScroll()}),a.querySelector(".student-modal__info-container").addEventListener("click",e=>{e.stopPropagation()}),document.body.appendChild(a),disableScroll()},renderCards=e=>{let a=document.createDocumentFragment();e.forEach(e=>{let t=studentTemplate.cloneNode(!0);t.querySelector(".student-card").dataset.id=e.id,t.querySelector(".student-card__name").textContent=e.name,t.querySelector(".student-card__age span").textContent=e.age,t.querySelector(".student-card__grade span").textContent=e.grade,t.querySelector(".student-card").addEventListener("click",a=>{renderModal(e)}),a.appendChild(t)}),studentsContainer.innerHTML="",studentsContainer.appendChild(a)},sortMap={nameUp:(e,a)=>e.name.localeCompare(a.name),nameDown:(e,a)=>a.name.localeCompare(e.name),ageUp:(e,a)=>e.age-a.age,ageDown:(e,a)=>a.age-e.age},filterMap={all:()=>!0,gradeA:e=>"A"===e.grade,gradeB:e=>"B"===e.grade,gradeC:e=>"C"===e.grade},getSoredAndFilteredData=()=>studentData.filter(filterMap[filterSelect.value]).sort(sortMap[sortSelect.value]);sortSelect.addEventListener("change",e=>{renderCards(getSoredAndFilteredData())}),filterSelect.addEventListener("change",e=>{renderCards(getSoredAndFilteredData())}),setTimeout(()=>{document.querySelector(".preloader").remove()},1e3+2e3*Math.random());const preloader=preloaderTemplate.cloneNode(!0);studentsContainer.appendChild(preloader),setTimeout(()=>{document.querySelector(".preloader")?.remove(),renderCards(studentData)},1e3+2e3*Math.random());
